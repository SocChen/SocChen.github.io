---
title: 单片机外部中断实验
date: 2019-03-06 00:39:07
tags: [单片机实验]
categories: [单片机]
---

## 实验内容
单片机接8个led，初始状态下led全部熄灭，每按一次按键，led改变状态（即按一下全灭，再按一下全亮），要求用外部中断实现。

## 实验环境
> uVision 5
> Protues 8 Professional

## 实验元器件
>单片机(AT89C51)
>按键(button)
>LED灯(LED-YELLOW)
>电阻(res)

## 实验原理图
![](实验原理图.png)

## 程序
```c
#include<reg51.h>
#include<intrins.h>
#define uchar unsigned char
#define uint unsigned int

void main(){
    //初始状态八个led全灭
    P1=0xff;
    EA=1;
    EX0=1;
    IT0=1;
    while(1);
}

//中断函数
void int0() interrupt 0 using 1{
    EX0=0;
    P1=~P1;
    EX0=1;
}
```