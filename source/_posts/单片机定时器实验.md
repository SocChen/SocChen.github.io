---
title: 单片机定时器实验
date: 2019-03-06 00:53:15
tags: [单片机实验]
categories: [单片机]
---

## 实验内容
8个LED闪烁，点亮时间0.2s，熄灭时间0.2s。要求用定时器中断实现。

## 实验环境
> uVision 5
> Protues 8 Professional

## 实验元器件
>单片机(AT89C51)
>LED灯(LED-YELLOW)
>电阻(res)

## 实验原理图
![](实验原理图.png)

## 程序
```c
#include<reg51.h>

//表示延时200毫秒，即0.2秒
int i=200;

void main(){
    TMOD=0x01;
    TH0=0xfc;
    TL0=0x18;
    EA=1;
    ET0=1;
    TR0=1;
    while(1);
}

void timer0() interrupt 1{
    TH0=0xfc;
    TL0=0x18;
    i--;
    if(i<=0){
        P1=~P1;
        i=200;
    }
}
```