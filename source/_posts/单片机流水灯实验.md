---
title: 单片机流水灯实验
date: 2019-03-06 00:21:14
tags: [单片机实验]
categories: [单片机]
---

## 实验内容
做一个单向流水灯，8个led灯由上向下轮流点亮，间隔0.5秒.（不使用数组）

## 实验环境
> uVision 5
> Protues 8 Professional

## 实验元器件
>单片机(AT89C51);
>LED灯(LED-YELLOW);
>电阻(res)

## 实验电路图
![](实验原理图.png)

## 程序
``` c
#include<reg51.h>
#include<intrins.h>
#define uchar unsigned char
#define uint unsigned int

//延时函数，延时 t ms
void delay(uint t){
    uchar i;
    while(t--){
        for(i=0;i<120;++i);
    }
}

void main(){
    P1=0xfe;
    while(1){
        //延时0.5秒
        delay(500);
        P1=_crol_(P1,1);
    }
}
```

